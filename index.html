<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/Blog/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/Blog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/Blog/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/Blog/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/Blog/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/Blog/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/Blog/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="keywords" content="JAVA, java, Java, spring, boot, mybatis, os">
<meta property="og:type" content="website">
<meta property="og:title" content="HSJ_BLOG">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;">
<meta property="og:site_name" content="HSJ_BLOG">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/Blog/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>HSJ_BLOG</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?b50112d6ccfad9033538ee768e32a696";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/Blog/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">HSJ_BLOG</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/Blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/Blog/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/Blog/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/Blog/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Blog/2021/08/26/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hsj">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/Blog/uploads/heibai.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HSJ_BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Blog/2021/08/26/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2021-08-26T14:22:53+08:00">
                2021-08-26
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/Blog/2021/08/26/hello-world/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2021/08/26/hello-world/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Blog/2020/06/18/java/thread/basic-concepts/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hsj">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/Blog/uploads/heibai.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HSJ_BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Blog/2020/06/18/java/thread/basic-concepts/" itemprop="url">线程的基本属性和使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-06-18T13:58:17+08:00">
                2020-06-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/JAVA/" itemprop="url" rel="index">
                    <span itemprop="name">JAVA</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/Blog/2020/06/18/java/thread/basic-concepts/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2020/06/18/java/thread/basic-concepts/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="JAVA中的线程"><a href="#JAVA中的线程" class="headerlink" title="JAVA中的线程"></a>JAVA中的线程</h1><h2 id="创建与启动线程"><a href="#创建与启动线程" class="headerlink" title="创建与启动线程"></a>创建与启动线程</h2><p>JAVA通过Thread表示一个线程，通过两种方法可以创建和启动一个线程</p>
<h3 id="1-继承Thread对象，-重写其Run方法"><a href="#1-继承Thread对象，-重写其Run方法" class="headerlink" title="1. 继承Thread对象， 重写其Run方法"></a>1. 继承Thread对象， 重写其Run方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InheritThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//实现线程执行逻辑</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Java类只支持单继承，当类已有父类时可通过实现Runnable来创建线程</p>
<h3 id="2-实现Runnable接口，-实现其Run方法"><a href="#2-实现Runnable接口，-实现其Run方法" class="headerlink" title="2. 实现Runnable接口， 实现其Run方法"></a>2. 实现Runnable接口， 实现其Run方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ImplementsRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//实现线程执行逻辑</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-启动线程"><a href="#3-启动线程" class="headerlink" title="3. 启动线程"></a>3. 启动线程</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        InheritThread inheritThread = <span class="keyword">new</span> InheritThread();</span><br><span class="line">        Thread implementsRunnable = <span class="keyword">new</span> Thread(<span class="keyword">new</span> ImplementsRunnable());</span><br><span class="line">        <span class="comment">//调用start启动线程</span></span><br><span class="line">        inheritThread.start();</span><br><span class="line">        implementsRunnable.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>还可以通过线程池的发生来调度线程</p>
</blockquote>
<h2 id="线程的基本属性和方法"><a href="#线程的基本属性和方法" class="headerlink" title="线程的基本属性和方法"></a>线程的基本属性和方法</h2><h3 id="1-ID"><a href="#1-ID" class="headerlink" title="1. ID"></a>1. ID</h3><p>ID是线程的唯一标识，创建线程时自动生成</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public long getId()</span><br></pre></td></tr></table></figure>

<h3 id="2-Name"><a href="#2-Name" class="headerlink" title="2. Name"></a>2. Name</h3><p>Name是线程的名称，默认情况下位Thread-{ID}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public final synchronized void setName(String name)</span><br><span class="line">public final String getName()</span><br></pre></td></tr></table></figure>

<h3 id="3-Daemon"><a href="#3-Daemon" class="headerlink" title="3. Daemon"></a>3. Daemon</h3><p>守护线程是其他线程的辅助线程，例如垃圾回收线程。当程序的所以非守护线程死亡时，程序结束</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public final void setDaemon(boolean on)</span><br><span class="line">public final boolean isDaemon()</span><br></pre></td></tr></table></figure>

<h3 id="4-Priority"><a href="#4-Priority" class="headerlink" title="4. Priority"></a>4. Priority</h3><p>会被映射到操作系统中的优先级，可能会出现不同优先级但在操作系统中是相同优先级的情况。<br>值为1到10，默认为5</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public final void setPriority(int newPriority)</span><br><span class="line">public final int getPriority()</span><br></pre></td></tr></table></figure>

<h3 id="4-isAlive"><a href="#4-isAlive" class="headerlink" title="4. isAlive"></a>4. isAlive</h3><p>判断线程是否结束</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public final native boolean isAlive()</span><br></pre></td></tr></table></figure>

<h3 id="5-state"><a href="#5-state" class="headerlink" title="5. state"></a>5. state</h3><p>线程从创建到死亡，整个生命周期中会历经不同的状态</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> State &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 线程对象创建，还没有调用start方法</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        NEW,</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 线程处于可执行状态， 正在执行中或等待执行调度</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        RUNNABLE,</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 等待获取Synchronized同步代码块锁时处于的状态</span></span><br><span class="line"><span class="comment">         * 当线程调用Wait释放锁，被其他线程notify唤醒后因为还需要重新获取锁，</span></span><br><span class="line"><span class="comment">         * 可能会进入此状态</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        BLOCKED,</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 当前线程调用一下方法时：</span></span><br><span class="line"><span class="comment">         *   1. Object.wait</span></span><br><span class="line"><span class="comment">         *   2. Thread.join</span></span><br><span class="line"><span class="comment">         *   3. LockSupport.park</span></span><br><span class="line"><span class="comment">         * 线程处于WAITING状态</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        WAITING,</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 当线程调用以下方法并指定等待时间时，处于TIMED_WAITING状态：</span></span><br><span class="line"><span class="comment">         *   1.Thread.sleep</span></span><br><span class="line"><span class="comment">         *   2.Object.wait</span></span><br><span class="line"><span class="comment">         *   3.Thread.join</span></span><br><span class="line"><span class="comment">         *   4.LockSupport.parkNanos</span></span><br><span class="line"><span class="comment">         *   5.LockSupport.parkUntil</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        TIMED_WAITING,</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 线程执行结束时状态</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        TERMINATED;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-sleep"><a href="#6-sleep" class="headerlink" title="6. sleep"></a>6. sleep</h3><p>使线程等待一段时间，不释放锁</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public static native void sleep(long millis)</span><br><span class="line">public static void sleep(long millis, int nanos)</span><br></pre></td></tr></table></figure>

<h3 id="6-yield"><a href="#6-yield" class="headerlink" title="6. yield"></a>6. yield</h3><p>向调度器建议可以优先执行其他线程</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public static native void yield()</span><br></pre></td></tr></table></figure>



          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Blog/2020/06/15/java/thread/process-thread/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hsj">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/Blog/uploads/heibai.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HSJ_BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Blog/2020/06/15/java/thread/process-thread/" itemprop="url">Java多线程-进程与线程概述</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-06-15T12:32:45+08:00">
                2020-06-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/JAVA/" itemprop="url" rel="index">
                    <span itemprop="name">JAVA</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/Blog/2020/06/15/java/thread/process-thread/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2020/06/15/java/thread/process-thread/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-程序，进程与线程"><a href="#1-程序，进程与线程" class="headerlink" title="1.程序，进程与线程"></a>1.程序，进程与线程</h1><h2 id="1-1-什么是程序"><a href="#1-1-什么是程序" class="headerlink" title="1.1 什么是程序"></a>1.1 什么是程序</h2><p>所谓程序，就是我们日常用编程语言编写创建的文件，如.java, .php, .h等等。<br>这些文件是数据和指令的集合，它们描述了希望计算机用什么样的指令去操作什么样的数据，<br>是静态的。</p>
<blockquote>
<p>程序是数据与指令的集合。</p>
</blockquote>
<h2 id="1-2-什么是进程"><a href="#1-2-什么是进程" class="headerlink" title="1.2 什么是进程"></a>1.2 什么是进程</h2><p>程序是静态的，它放置在磁盘上，想要计算机运行它，需要将其载入内存，然后由<br>cpu读取指令并操作数据。这个过程就是进程。计算机想要运行程序，就需要为其<br>分配内存资源，cpu资源等计算机资源。<br>所以我们说</p>
<blockquote>
<p>进程是程序的一次执行，进程是操作系统资源分配和调度的基本单位</p>
</blockquote>
<h2 id="1-4-单进程的缺点"><a href="#1-4-单进程的缺点" class="headerlink" title="1.4 单进程的缺点"></a>1.4 单进程的缺点</h2><ol>
<li>浪费CPU资源</li>
</ol>
<p>进程在执行过程中，需要CPU来调用指令做运算，运算是需要数据的，数据一般通过<br>IO设备获取，在从IO设备读写数据的过程中，CPU处于空闲状态</p>
<ol start="2">
<li>无法实时响应</li>
</ol>
<p>如果进程A需要执行3个月，进程B需要执行3秒，进程A先执行的话进程B就需要<br>等到3个月后才能完成。</p>
<h2 id="1-3-多进程"><a href="#1-3-多进程" class="headerlink" title="1.3 多进程"></a>1.3 多进程</h2><p>多进程引入了时间片的概念，为每个等待执行的进程分配时间片，时间片用完则<br>运行下一个进程，如果进程需要进行IO者将CPU资源也让渡给其他待执行的进程，<br>这样既提高了cpu的资源利用率又尽可能让执行时间短的进程快速响应，提高了使用<br>体验。</p>
<h2 id="1-5-多进程的缺点"><a href="#1-5-多进程的缺点" class="headerlink" title="1.5 多进程的缺点"></a>1.5 多进程的缺点</h2><p>有的程序很简单，比如只输出了Hello World。有的程序很复杂，比如各种Web服务，<br>可能要运行几年的时间。但操作系统每次分配给进程的时间片很短，只执行了程序的一小部分指令，<br>却需要切换整个进程的上下文环境，这让操作系统在进程管理上耗费了更多的资源，<br>有没有办法减少这种资源上的浪费呢？于是出现了线程。</p>
<h2 id="1-6-线程"><a href="#1-6-线程" class="headerlink" title="1.6 线程"></a>1.6 线程</h2><p>如果说进程是程序的一次执行，那线程就是程序片段的一次执行。<br>有了线程之后，CPU就直接调度执行的线程，所以</p>
<blockquote>
<p>线程是CPU调度和分派的基本单位</p>
</blockquote>
<p>因此</p>
<blockquote>
<p>线程的切换要比进程切换资源消耗少得多</p>
</blockquote>
<blockquote>
<p>线程由进程创建，没有独立的地址空间，它们共享创建它们的进程的内存空间</p>
</blockquote>
<h2 id="1-7-线程安全问题"><a href="#1-7-线程安全问题" class="headerlink" title="1.7 线程安全问题"></a>1.7 线程安全问题</h2><p>线程安全问题一般出现多线程对共享资源的访问上出现的问题。<br>假设有两个线程同时对一个变量访问，会有以下三种情况：</p>
<ol>
<li><p>读读：没有线程安全问题</p>
</li>
<li><p>读写：出现脏读，读线程无法读到最新值，出现数据不一致</p>
</li>
<li><p>写写：出现脏写，两个线程有一个的写操作被覆盖了，也称为丢失更新。</p>
</li>
</ol>
<p>解决：</p>
<ol>
<li><p>不要访问共享变量</p>
</li>
<li><p>设定共享变量不可变，也就是只存在读读的情况</p>
</li>
<li><p>对读写，写写操作做同步</p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Blog/2020/06/13/mysql/select-limit/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hsj">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/Blog/uploads/heibai.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HSJ_BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Blog/2020/06/13/mysql/select-limit/" itemprop="url">MySQL在Select中使用Limit的优化问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-06-13T22:29:31+08:00">
                2020-06-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">MySQL学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/Blog/2020/06/13/mysql/select-limit/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2020/06/13/mysql/select-limit/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在阿里的JAVA开发手册中有这么一句</p>
<p><img src="/Blog/2020/06/13/mysql/select-limit/1.png" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#建表</span><br><span class="line">CREATE TABLE `movies` (</span><br><span class="line">  `id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  `title` varchar(20) DEFAULT NULL,</span><br><span class="line">  `year` int(11) DEFAULT NULL,</span><br><span class="line">  `content` varchar(20) DEFAULT &apos;hxmyt&apos;,</span><br><span class="line">  PRIMARY KEY (`id`),</span><br><span class="line">  KEY `year_index` (`year`)</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8;</span><br><span class="line"></span><br><span class="line">#创建存储过程，插入百万数据</span><br><span class="line">CREATE DEFINER=`root`@`localhost` PROCEDURE `randomMovies`()</span><br><span class="line">begin</span><br><span class="line">declare i int default 0;</span><br><span class="line">while i &lt;= 1000000 do</span><br><span class="line"> insert into movies(title, year) values(substring(md5(rand()),1,8), floor(1970 + rand() * 50));</span><br><span class="line">set i = i + 1;</span><br><span class="line">end while;</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">#修改存储引擎位MySIAM</span><br><span class="line">ALTER TABLE movies ENGINE=MySIAM;</span><br><span class="line">#调用存储过程出入记录</span><br><span class="line">call randomMovies();</span><br><span class="line">call randomMovies();</span><br><span class="line">call randomMovies();</span><br><span class="line">#修改存储引擎位INNODB</span><br><span class="line">ALTER TABLE movies ENGINE=INNODB;</span><br></pre></td></tr></table></figure>

<p>第一次查询<br><img src="/Blog/2020/06/13/mysql/select-limit/2.png" alt><br>耗时3.2秒</p>
<p>尝试limit优化<br><img src="/Blog/2020/06/13/mysql/select-limit/3.png" alt></p>
<p>速度确实变快了，但出现了两个新的问题</p>
<p>1.第一次查询为什么会变慢？</p>
<p>2.优化后返回的结果集与有优化前不同</p>
<p>猜测问题一：第二次调用使用了缓存</p>
<p>验证：使用SQL_NO_CACHE</p>
<p><img src="/Blog/2020/06/13/mysql/select-limit/4.png" alt><br>没有区别,难道不是缓存的原因？</p>
<p>问题二：explain试一下<br><img src="/Blog/2020/06/13/mysql/select-limit/5.png" alt><br>发现扫描的行数为与总行数不同</p>
<p>查了一下是预估值，那可能是因为索引排序有问题，3000000放在293975后面</p>
<p>尝试下排序</p>
<p><img src="/Blog/2020/06/13/mysql/select-limit/6.png" alt></p>
<p>排序后要3秒之久</p>
<p>更换排序条件为year<br><img src="/Blog/2020/06/13/mysql/select-limit/7.png" alt></p>
<p>速度很快，而且结果和不加排序居然一样，才发现两道查询都默认使用了year为索引<br><img src="/Blog/2020/06/13/mysql/select-limit/9.png" alt><br>当使用主键索引的时候速度会变慢</p>
<p>猜测：都产生了覆盖索引，但是主键叶子节点就是行数据，加载起来会非常慢，<br>辅组索引叶子节点是主键，加载更快。</p>
<p>验证方式：待定</p>
<p>尝试了下profile和查询表状态<br><img src="/Blog/2020/06/13/mysql/select-limit/10.png" alt><br><img src="/Blog/2020/06/13/mysql/select-limit/11.png" alt><br>发现时间都花在send data上，而且产生了极多的内存碎片</p>
<p>尝试了下optimize table 和alter table movies engine=innodb<br>都优化不掉内存碎片</p>
<p>未解决问题： </p>
<ul>
<li>第一次查询慢，第二次查询快到底是不是缓存问题？</li>
<li>如何验证主键叶子节点加载时会载入所有数据</li>
<li>send data包含加载数据的时间吗?</li>
<li>为什么会出现这么多内存碎片，如何优化？</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Blog/2019/12/18/mysql/basic-concepts/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hsj">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/Blog/uploads/heibai.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HSJ_BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Blog/2019/12/18/mysql/basic-concepts/" itemprop="url">MySQL-server与client的通信方式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-18T22:36:09+08:00">
                2019-12-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">MySQL学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/Blog/2019/12/18/mysql/basic-concepts/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2019/12/18/mysql/basic-concepts/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="windows上的通信方式"><a href="#windows上的通信方式" class="headerlink" title="windows上的通信方式"></a>windows上的通信方式</h1><h2 id="1-TCP-IP通信"><a href="#1-TCP-IP通信" class="headerlink" title="1. TCP/IP通信"></a>1. TCP/IP通信</h2><p>通过TCP/IP是MySQL最常用的MySQL服务器和客户端通信方式，<br>位于应用层纄应用程序要通过TCP/IP协议族通信需要为进程指<br>定一个端口号。故而，我们需要执行命令</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld -P3306</span><br></pre></td></tr></table></figure>
<p>此时客户端默认使用tcp通信</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure>
<p>或直接指定host和port通过tcp连接到服务器</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -hlocalhost -P3306 -uroot -p</span><br></pre></td></tr></table></figure>
<h2 id="2-命名管道通信"><a href="#2-命名管道通信" class="headerlink" title="2. 命名管道通信"></a>2. 命名管道通信</h2><p>window用户可以用命名管道进行进程间的通信<br>启动mysql服务器端时指定通信方式</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --enable-named-pipe</span><br></pre></td></tr></table></figure>
<p>客户端需指定使用命名管道通信连接到服务器</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p --protocol=pipe</span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p --pipe</span><br></pre></td></tr></table></figure>
<h2 id="3-共享内存通信"><a href="#3-共享内存通信" class="headerlink" title="3. 共享内存通信"></a>3. 共享内存通信</h2><p>window用户可以用共享内存进行进程间的通信（如果client和server在同一台主机上的话）<br>启动mysql服务器端时指定通信方式</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --shared-memory</span><br></pre></td></tr></table></figure>
<p>客户端需指定使用共享内存通信连接到服务器</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p --protocol=memory</span><br></pre></td></tr></table></figure>
<h2 id="4-禁止TCP-IP通信"><a href="#4-禁止TCP-IP通信" class="headerlink" title="4. 禁止TCP/IP通信"></a>4. 禁止TCP/IP通信</h2><p>启动server时我们可以禁止client和server通过tcp/ip通信<br>只需指定参数–skip-networking即可，但此时需同时指定其他通信<br>方式才可成功启动server</p>
<h3 id="1-指定共享内存"><a href="#1-指定共享内存" class="headerlink" title="1.指定共享内存"></a>1.指定共享内存</h3><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --skip-networking --shared-memory</span><br></pre></td></tr></table></figure>
<p>此时客户端默认使用共享内存通信<br>故可以按以下方式连接client和server</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p --protocol=memory</span><br></pre></td></tr></table></figure>
<h3 id="2-指定命名管道"><a href="#2-指定命名管道" class="headerlink" title="2.指定命名管道"></a>2.指定命名管道</h3><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --skip-networking --enable-named-pipe</span><br></pre></td></tr></table></figure>
<p>此时连接client和server需指定命名管道通信</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p --protocol=pipe</span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p --pipe</span><br></pre></td></tr></table></figure>
<h3 id="3-同时指定共享内存和命名管道通信"><a href="#3-同时指定共享内存和命名管道通信" class="headerlink" title="3.同时指定共享内存和命名管道通信"></a>3.同时指定共享内存和命名管道通信</h3><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --skip-networking --enable-named-pipe --shared-memory</span><br></pre></td></tr></table></figure>
<p>此时默认为共享内存通信</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure>
<p>或可指定共享内存通信</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p --protocol=memory</span><br></pre></td></tr></table></figure>
<p>或可指定命名管道通信</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p --protocol=pipe</span><br></pre></td></tr></table></figure>
<p>或</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p --pipe</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Blog/2019/12/18/mysql/server-client-communication-way/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hsj">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/Blog/uploads/heibai.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HSJ_BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Blog/2019/12/18/mysql/server-client-communication-way/" itemprop="url">MySQL-server与client的通信方式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-18T22:36:09+08:00">
                2019-12-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">MySQL学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/Blog/2019/12/18/mysql/server-client-communication-way/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2019/12/18/mysql/server-client-communication-way/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="windows上的通信方式"><a href="#windows上的通信方式" class="headerlink" title="windows上的通信方式"></a>windows上的通信方式</h1><p>##1. TCP/IP通信<br>通过TCP/IP是MySQL最常用的MySQL服务器和客户端通信方式，<br>位于应用层的应用程序要通过TCP/IP协议族通信需要为进程指<br>定一个端口号。故而，我们需要执行命令</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld -P3306</span><br></pre></td></tr></table></figure>

<p>##2. 命名管道通信<br>##3. 共享内存通信<br>##4. 禁止TCP/IP通信</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Blog/2019/11/24/java/java-swap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hsj">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/Blog/uploads/heibai.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HSJ_BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Blog/2019/11/24/java/java-swap/" itemprop="url">如何用java来交换两个数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-11-24T20:24:46+08:00">
                2019-11-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/Blog/2019/11/24/java/java-swap/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2019/11/24/java/java-swap/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/Blog/2019/11/12/operation/xor-two-number-swap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="hsj">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/Blog/uploads/heibai.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HSJ_BLOG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Blog/2019/11/12/operation/xor-two-number-swap/" itemprop="url">为什么两个二进制值能通过异或交换？</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-11-12T23:08:02+08:00">
                2019-11-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/%E4%BD%8D%E8%BF%90%E7%AE%97/" itemprop="url" rel="index">
                    <span itemprop="name">位运算</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/Blog/2019/11/12/operation/xor-two-number-swap/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2019/11/12/operation/xor-two-number-swap/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在初学编程的时候我们总会通过一些简单的编程题来练习语法。两个数的交换就是常遇到的题目之一，它也常用于各种排序算法中。</p>
<h3 id="惯用的两数方式"><a href="#惯用的两数方式" class="headerlink" title="惯用的两数方式"></a>惯用的两数方式</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TwoNumSwap</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Integer[] two = &#123;<span class="number">1</span>, <span class="number">2</span>&#125;;</span><br><span class="line">        print(two[<span class="number">0</span>], two[<span class="number">1</span>]);</span><br><span class="line">        swap(two);</span><br><span class="line">        print(two[<span class="number">0</span>], two[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(Integer[] arr)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//通过临时变量来完成交换</span></span><br><span class="line">        Integer temp = arr[<span class="number">1</span>];</span><br><span class="line">        arr[<span class="number">1</span>] = arr[<span class="number">0</span>];</span><br><span class="line">        arr[<span class="number">0</span>] = temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(Integer a, Integer b)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"交换前： a="</span> + a + <span class="string">",b="</span> + b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ps: 为什么要使用数组?<a href="https://huangsenjie.github.io/Blog/2019/11/24/java/java-swap/" target="_blank" rel="noopener">如何用java来交换两个数</a></p>
<hr>
<p>输出</p>
<p>交换前： a=1,b=2</p>
<p>交换前： a=2,b=1</p>
<hr>
<h3 id="使用异或交换"><a href="#使用异或交换" class="headerlink" title="使用异或交换"></a>使用异或交换</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TwoNumSwap</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Integer[] two = &#123;<span class="number">1</span>, <span class="number">2</span>&#125;;</span><br><span class="line">        print(two[<span class="number">0</span>], two[<span class="number">1</span>]);</span><br><span class="line">        swapByXor(two);</span><br><span class="line">        print(two[<span class="number">0</span>], two[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swapByXor</span><span class="params">(Integer[] arr)</span> </span>&#123;</span><br><span class="line">        arr[<span class="number">0</span>] = arr[<span class="number">0</span>] ^ arr[<span class="number">1</span>];</span><br><span class="line">        arr[<span class="number">1</span>] = arr[<span class="number">0</span>] ^ arr[<span class="number">1</span>];</span><br><span class="line">        arr[<span class="number">0</span>] = arr[<span class="number">0</span>] ^ arr[<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(Integer a, Integer b)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"交换前： a="</span> + a + <span class="string">",b="</span> + b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>输出</p>
<p>交换前： a=1,b=2</p>
<p>交换前： a=2,b=1</p>
<hr>
<h3 id="为什么异或可以交换两数"><a href="#为什么异或可以交换两数" class="headerlink" title="为什么异或可以交换两数"></a>为什么异或可以交换两数</h3><p>在计算机中，当两个数异或得出第三个数时，从三个数中任意取两个数进行异或结果等于第三个数。</p>
<p>由此我们可以得出：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TwoNumSwap</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swapByXor</span><span class="params">(Integer[] arr)</span> </span>&#123;</span><br><span class="line">            <span class="comment">//设arr[0] = a, arr[1] = b, a ^ b = c</span></span><br><span class="line">            <span class="comment">//arr[0] = c</span></span><br><span class="line">            arr[<span class="number">0</span>] = arr[<span class="number">0</span>] ^ arr[<span class="number">1</span>];</span><br><span class="line">            <span class="comment">//c ^ b = a, arr[1] = a</span></span><br><span class="line">            arr[<span class="number">1</span>] = arr[<span class="number">0</span>] ^ arr[<span class="number">1</span>];</span><br><span class="line">            <span class="comment">//c ^ a = b, arr[0] = b</span></span><br><span class="line">            arr[<span class="number">0</span>] = arr[<span class="number">0</span>] ^ arr[<span class="number">1</span>];</span><br><span class="line">    </span><br><span class="line">            <span class="comment">//结果: arr[0] = b, arr[1] = a  </span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="为什么三个数任意两个异或的结果等于另一个？"><a href="#为什么三个数任意两个异或的结果等于另一个？" class="headerlink" title="为什么三个数任意两个异或的结果等于另一个？"></a>为什么三个数任意两个异或的结果等于另一个？</h3><p>此时，我们依然知道异或可以具备了交换两数的性质。但我们又有了新的问题，为什么异或具备这样的性质呢？<br>我们来看一看关于异或的定义。</p>
<hr>
<p>在计算机中，当两个数异或得出第三个数时，从三个数中任意取两个数进行异或结果等于第三个数。</p>
<p><strong>重点在于第一句话: 在计算机中。</strong></p>
<hr>
<p>异或是一种位运算，也就是对二进制值的运算。计算机中所有的数据，指令最终都用二进制表达，所以这句话的意思应该是：在对于二进制的运算中。</p>
<p>我们来看一个例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">   10101010</span><br><span class="line">^  11110000</span><br><span class="line"> ------------</span><br><span class="line">   01011010</span><br></pre></td></tr></table></figure>
<p>既然是位运算，我们只需将每个位独立的看，对于二进制值而言，一个位无非就1和0两种情况，两个位进行异或可以很容易的列举出它们的所以结果。</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center"></th>
<th align="center"></th>
<th align="center">result</th>
<th align="center"></th>
<th align="center"></th>
<th align="center">result</th>
</tr>
</thead>
<tbody><tr>
<td align="center">0</td>
<td align="center">^</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">^</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">0</td>
<td align="center">^</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">^</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">^</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">^</td>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">^</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">^</td>
<td align="center">1</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">1</td>
<td align="center">^</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">^</td>
<td align="center">1</td>
<td align="center">1</td>
</tr>
</tbody></table>
<p>由上表可以看出，对于任何一个位而言，它都满足从三个数中任意取两个数进行异或结果等于第三个数。故而对于对于任何二进制值的异或运算都可以满足该性质。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/Blog/uploads/heibai.jpg"
                alt="hsj" />
            
              <p class="site-author-name" itemprop="name">hsj</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/Blog/archives">
              
                  <span class="site-state-item-count">8</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/Blog/categories/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/Blog/tags/index.html">
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">hsj</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/Blog/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/Blog/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/Blog/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/Blog/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/Blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/Blog/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/Blog/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/Blog/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/Blog/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/Blog/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/Blog/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/Blog/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://https-huangsenjie-github-io-blog.disqus.com/count.js" async></script>
    

    

  




	





  














  





  

  

  

  
  

  

  

  

</body>
</html>
